<%- include('../layouts/header.ejs') %>

<style>
    .content-main {
/* Set the background image */
background-image: url('/images/userRegister.webp');

/* Adjust background properties as needed */
background-size: cover; /* Cover the entire section */
background-position: center; /* Center the background image */
background-repeat: no-repeat; /* Prevent image repetition */
max-width: 100%;
max-height: 100%;
height: 100vh;
/* Add additional styling */
padding-top: 150px;    /* Increase the top padding */
padding-bottom: 100px; /* Increase the bottom padding */
padding-left: 20px;   /* Optional: Adjust left padding if needed */
padding-right: 20px;  

}
*{
margin: 0;

}

</style>  
<section class="content-main">
    <div class="card mx-auto card-login "style= "background-color: rgba(255, 255, 255, 0.6); ">
        <form action="/home" name="register"  onsubmit="return validateform()" method="post">
          
        <div class="card-body">
            <h4 class="card-title mb-4">Login</h4>
            <% if (messages && messages.length > 0) { %>
                <!-- Display the message div only when messages are present -->
                <div class="alert alert-danger" role="alert">
                    <%= messages %>
               
                <% } %>

                <div class="mb-3">
                    <input class="form-control" name="email" placeholder="Useremail" type="text">
                    <p id="emailError" class="error-message  alert-danger"><%= messages.email %></p>
                </div> <!-- form-group// -->
                    <div class="mb-3">
                    <input class="form-control" name="password"placeholder="Password" type="password" autocomplete="new-password" >
                    <p id="passwordError" class="error-message  alert-danger"><%=  messages.password %></p>
                </div> <!-- form-group// -->
                <div class="mb-3">
                    <!-- <a href="/email" class="float-end font-sm text-muted">Forgot password?</a>
                    <label class="form-check">
                        <input type="checkbox" class="form-check-input" checked="">
                        <span class="form-check-label">Remember</span>
                    </label> -->
                </div> <!-- form-group form-check .// -->
               
               
                <div class="mb-4">
                    <button type="submit" class="btn btn-primary w-100" style="background-color:  grey"> Login </button>
                </div> <!-- form-group// -->    
            <p class="text-center mb-4" style="color: black;">Don't have account? <a href="/register" style="color: blue">Sign up</a></p>

        </div>
        
        </form>
    </div>
</section>


<script>
function validateform() {

var emailInput = document.getElementsByName("email")[0];
var passwordInput = document.getElementsByName("password")[0];

var email = emailInput.value;
var password = passwordInput.value;

var isValid = true;

// Reset error messages

document.getElementById("emailError").textContent = "";
document.getElementById("passwordError").textContent = "";

// Validate email
var emailRegex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;
if (!emailRegex.test(email)) {
    document.getElementById("emailError").textContent = "Please enter email address.";
    isValid = false;
}

// Validate password
if (password.length < 4) {
    document.getElementById("passwordError").textContent = "Please enter password";
    isValid = false;
}

return isValid;
}
</script>

<%- include('../layouts/footer.ejs') %>
